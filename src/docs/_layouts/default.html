<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">

    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="icon" sizes="192x192" href="img/favicon-hd.png">
    <meta name="theme-color" content="#6ED6A0">

    <link rel="stylesheet" href="../style-guide.css">
    <link rel="stylesheet" href="{{ "/css/main.css" | prepend: site.baseurl }}">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
</head>
<body>
{% include navigation.html %}
<div class="data-container">
    {% assign pageConfig=site.data.navigation[page.navigationIdx] %}
    {% include page.html %}
</div>

<script>
    var showHolesCheckbox = document.getElementById('highlight-holes');
    var showVRLinesCheckbox = document.getElementById('show-vr-lines');

    function toggleHoles(value) {
        if(value) {
            document.body.classList.add('show-holes');
        } else {
            document.body.classList.remove('show-holes');
        }

        showHolesCheckbox.checked = value;
        localStorage.showHoles = value;
    }

    function toggleVRLines(value) {
        if(value) {
            document.body.classList.add('show-vr-lines');
        } else {
            document.body.classList.remove('show-vr-lines');
        }

        showVRLinesCheckbox.checked = value;
        localStorage.showVRLines = value;
    }

    showHolesCheckbox.addEventListener('change', function () {
        toggleHoles(this.checked);
    });
    showVRLinesCheckbox.addEventListener('change', function () {
        toggleVRLines(this.checked);
    });

    toggleHoles(localStorage.showHoles === 'true');
    toggleVRLines(localStorage.showVRLines === 'true');
</script>
</body>

</html>
